{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9f91c5bc_d1cbf631",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2025-01-29T23:26:44Z",
      "side": 1,
      "message": "The CI errors are pre-existing",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e392e1e_4251841f",
        "filename": "dump_entry.hpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-01-29T23:47:40Z",
      "side": 1,
      "message": "Probably don‚Äôt want this either since properties aren‚Äôt initialize yet at this point. We likely need to make a call inside the constructor once the interface is fully initialized.",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89a8194b_d8d41285",
        "filename": "dump_entry.hpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-01-29T23:50:19Z",
      "side": 1,
      "message": "Is this always a secondary object?  Is it ever optional?  The primary object should have made ObjectAdded/ObjectRemoved signals after the secondary is initialized. Is that missing somewhere?  Do you know which [primary] types are leaking?",
      "parentUuid": "5e392e1e_4251841f",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8639c92e_bb15f73e",
        "filename": "dump_entry.hpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2025-01-30T00:07:46Z",
      "side": 1,
      "message": "The only leaking that I saw were the Interfaces from this object (OriginatedBy, etc).\n\nDoes that mean the right solution is to just use `defer` here and send the signal from the constructor? The original change didn\u0027t do that, so I assumed that was intentional.",
      "parentUuid": "89a8194b_d8d41285",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f2038ba_3877c40a",
        "filename": "dump_entry.hpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000086
      },
      "writtenOn": "2025-01-30T03:15:21Z",
      "side": 1,
      "message": "This is added intentionally , Please refer https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/40518 \"The emit_object_added was added in the base entry class so\nall information was not present in the InterfaceAdded.\nIn the below example the VSP String and password are null\nTo fix this moved emit_object_added to derived classes\nso InterfaceAdded signal will come only after the creation\nof complete object.\"",
      "parentUuid": "8639c92e_bb15f73e",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d90ba177_ea2280ee",
        "filename": "dump_entry.hpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2025-01-30T08:25:08Z",
      "side": 1,
      "message": "We were using `defer_emit` the derived class that we were test and that the `sd_bus_emit_object_removed` call it made didn\u0027t remove the interface added by the base class.\n\nExample,\n```\n‚Ä£ Type\u003dsignal  Endian\u003dl  Flags\u003d1  Version\u003d1 Cookie\u003d42358  Timestamp\u003d\"Thu 2025-01-30 01:12:59.908074 UTC\"\n  Sender\u003d:1.32  Path\u003d/xyz/openbmc_project/dump  Interface\u003dorg.freedesktop.DBus.ObjectManager  Member\u003dInterfacesRemoved\n  UniqueName\u003d:1.32\n  MESSAGE \"oas\" {\n          OBJECT_PATH \"/xyz/openbmc_project/dump/faultlog/entry/1690\";\n          ARRAY \"s\" {\n                  STRING \"org.freedesktop.DBus.Peer\";\n                  STRING \"org.freedesktop.DBus.Introspectable\";\n                  STRING \"org.freedesktop.DBus.Properties\";\n                  STRING \"xyz.openbmc_project.Dump.Entry.FaultLog\";\n          };\n  };\n```\n\nAs benjamin mentioned, we should also just set the base class to be `defer_emit`, so that it will send the remove signal... and will let derived classes design if it wants to send add signal or not.",
      "parentUuid": "8f2038ba_3877c40a",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94660969_b5f9d6fa",
        "filename": "dump_entry.hpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2025-01-31T09:24:48Z",
      "side": 1,
      "message": "ok, nevermind. It seems like the issue is because we have a change that created\n\n```\nclass Entry : virtual public EntryIfaces, virtual public phosphor::dump::Entry\n```\n\nwith the inheritance order wrong... so the EntryIfaces descriptor only has the EntryIfaces interface since `phosphor::dump::Entry` is already removed.\n\nWe can abandon this change in that case.",
      "parentUuid": "d90ba177_ea2280ee",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a30584ae_023ebf43",
        "filename": "dump_entry.hpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-01-31T16:41:27Z",
      "side": 1,
      "message": "üëç",
      "parentUuid": "94660969_b5f9d6fa",
      "revId": "6e7262974115f1cc632e6f7a5be12114ee4af8dc",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ],
  "submitRequirementResults": []
}