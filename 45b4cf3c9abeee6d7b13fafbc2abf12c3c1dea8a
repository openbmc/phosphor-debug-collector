{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "182938f6_d536e18a",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 34,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2024-01-12T08:04:48Z",
      "side": 1,
      "message": "why we are not taking the dump of the whole object? why specific property?\nIgnore the password from the dump.",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 34,
        "endChar": 1
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "207d4030_838e2bba",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 34,
      "author": {
        "id": 1001631
      },
      "writtenOn": "2024-01-25T05:37:06Z",
      "side": 1,
      "message": "We are collecting minimum data which is required to analyse LDAP data.",
      "parentUuid": "182938f6_d536e18a",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 34,
        "endChar": 1
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1087248c_c621c9b2",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 39,
      "author": {
        "id": 1000086
      },
      "writtenOn": "2024-01-25T06:54:51Z",
      "side": 1,
      "message": "This is still not fixing the issue i mentioned earlier , Not a unique file name incase multiple dump is in progress.",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 44
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e945aa2_2ca5ea41",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 39,
      "author": {
        "id": 1000382
      },
      "writtenOn": "2024-01-29T13:27:07Z",
      "side": 1,
      "message": "Is a unique file needed for each dump request? \nI think the idea is to collect the latest data at the time when the dump is gathered. The next dump will collect the updated file.",
      "parentUuid": "1087248c_c621c9b2",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 44
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "292e7906_c45bc8f9",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 39,
      "author": {
        "id": 1000086
      },
      "writtenOn": "2024-01-29T14:25:59Z",
      "side": 1,
      "message": "Refer https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/68090/5..9/tools/dreport.d/plugins.d/ldapdump#b34.\nAs mentioned incase multipe dumps running in same context , possible chamce deleting same file , by dreport plugs. to avoid this recommended unique file name based approch ( open bmc extensively uses this ) .",
      "parentUuid": "1e945aa2_2ca5ea41",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 44
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7931d1b_8c356546",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 39,
      "author": {
        "id": 1000086
      },
      "writtenOn": "2024-01-29T14:30:09Z",
      "side": 1,
      "message": "https://www.cyberciti.biz/tips/shell-scripting-bash-how-to-create-temporary-random-file-name.html\n\n#!/bin/bash\n#do init some stuff here\n \n#now make a temp file \nTMP_FILE\u003d$(mktemp -q /tmp/bar.XXXXXX)\nif [ $? -ne 0 ]; then\n    echo \"$0: Can\u0027t create temp file, bye..\"\n    exit 1\nfi\n \n#continue with script\necho \"Using $TMP_FILE ...\"",
      "parentUuid": "292e7906_c45bc8f9",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 44
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0f76996a_d50ff1e6",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 39,
      "author": {
        "id": 1001631
      },
      "writtenOn": "2024-02-11T21:23:36Z",
      "side": 1,
      "message": "Update. please review.",
      "parentUuid": "d7931d1b_8c356546",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 44
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e2185d4_9cc8fa43",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2024-01-12T08:04:48Z",
      "side": 1,
      "message": "Seems in this file, Password is there, You need to make sure that user credentials should not be there.",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7718246a_605393d7",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1001631
      },
      "writtenOn": "2024-01-25T05:37:06Z",
      "side": 1,
      "message": "NSLCD stores passwords in plain text only, we are just collecting data.\nWe can create a defect against nslcd to handle the plain text password and store password in some non-readable/encrypted format.",
      "parentUuid": "1e2185d4_9cc8fa43",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "99fe0c30_c36eca56",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000086
      },
      "writtenOn": "2024-02-20T10:07:56Z",
      "side": 1,
      "message": "This seems to be a security violation right ?  I think we should hold the change to coping conf file till the  security problem fixed ?.",
      "parentUuid": "7718246a_605393d7",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c60aa6da_5a4df8cf",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000022
      },
      "writtenOn": "2024-02-20T10:17:34Z",
      "side": 1,
      "message": "Yes it is a security violation, But why can\u0027t we take dump of other content from this file except password?",
      "parentUuid": "99fe0c30_c36eca56",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea756ecf_31679234",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-02-20T10:53:40Z",
      "side": 1,
      "message": "Hi Ratan/Jayanth\nuser credentials are not stored in this file, nslcd only stores bind password of ldap server in file",
      "parentUuid": "c60aa6da_5a4df8cf",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60971147_c1bb45a8",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1001631
      },
      "writtenOn": "2024-02-20T11:00:04Z",
      "side": 1,
      "message": "here we are talking about \"bindpw\" field, so can we mark password with some \u003chidden\u003e text with the help of \u0027sed\u0027 utility before collecting it to dump.\nit will look like this in dump.\n   bindpw \u003chidden\u003e\nwill this work?\n\nfor this we need to first collect all nslcd.conf content in a temp file, then will modify temp file content for bindpw field with \u0027sed\u0027 utility\n       sed -i \u0027s/^bindpw .*/bindpw \u003chidden\u003e/\u0027 /tmp/nslcd \nand then will store temp file data to dump.",
      "parentUuid": "c60aa6da_5a4df8cf",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "155676d3_d5ac88e7",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-02-20T11:03:50Z",
      "side": 1,
      "message": "This does not look like a security violation, otherwise storing bind password in nslcd Configuration file on BMC also considered as security violation right?\nas far as I remember from earlier discussions storing bind passoword in nslcd configuration file was not considered as security violation where as user credentials password was encrypted and stored for ipmi user-cases.",
      "parentUuid": "ea756ecf_31679234",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b29c03f0_bc79a736",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000086
      },
      "writtenOn": "2024-02-20T13:07:04Z",
      "side": 1,
      "message": "Including @Joseph to comment from OpenBMC Security",
      "parentUuid": "155676d3_d5ac88e7",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a431297e_89e5b392",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000235
      },
      "writtenOn": "2024-02-21T23:26:27Z",
      "side": 1,
      "message": "I am not an LDAP expert, so please correct any mistakes.\nThe nslcd.conf options binddn and bindpw store optionally-provided credentials the BMC uses to authenticate to the LDAP server.  (Ideally these credentials will give read-only access to the LDAP server, but that is beyond the scope of the BMC.). The credentials are stored in plaintext in this file, and the file is protected by Linux file system permissions so only the root user is allowed to read and write.\nIn this way, the file has appropriate access controls while it is on the BMC.\n\nIf this file is included in a dump, it would contain the LDAP credentials, which would disclose the credentials to anyone who has read access to the dump.  Is that only BMC admin users, or would the dump be distributed to less trustworthy people?  And do they already have access to this information?  [I\u0027m not sure what the answer is.]\n\nAssuming most of the time we don\u0027t need the value of these options, obscuring them (such as with the sed command above) seems like a good compromise of getting the dump we need and not disclosing the credentials.",
      "parentUuid": "b29c03f0_bc79a736",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "338b70f6_cf711270",
        "filename": "tools/dreport.d/plugins.d/ldapdump",
        "patchSetId": 9
      },
      "lineNbr": 77,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2024-02-23T16:30:11Z",
      "side": 1,
      "message": "ok then, lets avoid displaying binddn option including password in the file",
      "parentUuid": "a431297e_89e5b392",
      "range": {
        "startLine": 76,
        "startChar": 3,
        "endLine": 77,
        "endChar": 26
      },
      "revId": "45b4cf3c9abeee6d7b13fafbc2abf12c3c1dea8a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}